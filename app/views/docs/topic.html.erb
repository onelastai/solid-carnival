<div class="min-h-screen bg-gray-900">
  <!-- Topic Header -->
  <section class="relative py-20 overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-blue-900/20 via-indigo-900/20 to-purple-900/20"></div>
    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/40"></div>
    
    <div class="container mx-auto px-6 relative z-10">
      <div class="max-w-4xl mx-auto">
        <!-- Breadcrumb -->
        <nav class="mb-8">
          <ol class="flex items-center gap-2 text-sm text-gray-400">
            <li><a href="/docs" class="hover:text-white transition-colors">Documentation</a></li>
            <li>â†’</li>
            <li><a href="/docs/<%= @section %>" class="hover:text-white transition-colors"><%= @section_name %></a></li>
            <li>â†’</li>
            <li class="text-white"><%= @topic[:title] %></li>
          </ol>
        </nav>
        
        <div class="flex items-center gap-4 mb-6">
          <span class="px-3 py-1 bg-<%= @topic[:difficulty] == 'Beginner' ? 'green' : @topic[:difficulty] == 'Intermediate' ? 'yellow' : 'red' %>-600/20 text-<%= @topic[:difficulty] == 'Beginner' ? 'green' : @topic[:difficulty] == 'Intermediate' ? 'yellow' : 'red' %>-400 rounded-full text-sm">
            <%= @topic[:difficulty] %>
          </span>
          <span class="text-gray-400 text-sm"><%= @topic[:duration] %></span>
          <span class="text-gray-400 text-sm">â€¢</span>
          <span class="text-gray-400 text-sm">Last updated 2 weeks ago</span>
        </div>
        
        <h1 class="text-4xl lg:text-5xl font-bold text-white mb-4"><%= @topic[:title] %></h1>
        <p class="text-xl text-gray-300"><%= @topic[:description] %></p>
      </div>
    </div>
  </section>

  <div class="container mx-auto px-6 py-20">
    <div class="max-w-6xl mx-auto">
      <div class="grid lg:grid-cols-4 gap-8">
        <!-- Table of Contents -->
        <div class="lg:col-span-1">
          <div class="sticky top-8">
            <div class="bg-gray-800/50 border border-gray-700 rounded-xl p-6">
              <h3 class="text-lg font-bold text-white mb-4">Table of Contents</h3>
              <nav class="space-y-3">
                <% @topic[:content][:sections].each_with_index do |section, index| %>
                  <a href="#section-<%= index + 1 %>" class="block text-gray-300 hover:text-white transition-colors text-sm">
                    <%= section[:title] %>
                  </a>
                <% end %>
              </nav>
            </div>
          </div>
        </div>

        <!-- Main Content -->
        <div class="lg:col-span-3">
          <div class="prose prose-invert prose-lg max-w-none">
            <!-- Overview -->
            <div class="bg-gray-800/30 border border-gray-700 rounded-xl p-8 mb-8">
              <h2 class="text-2xl font-bold text-white mb-4">Overview</h2>
              <p class="text-gray-300 leading-relaxed"><%= @topic[:content][:overview] %></p>
            </div>

            <!-- Content Sections -->
            <% @topic[:content][:sections].each_with_index do |section, index| %>
              <section id="section-<%= index + 1 %>" class="mb-12">
                <h2 class="text-2xl font-bold text-white mb-6 pb-3 border-b border-gray-700">
                  <%= section[:title] %>
                </h2>
                
                <div class="space-y-6">
                  <% section[:subsections].each do |subsection| %>
                    <div>
                      <h3 class="text-xl font-bold text-white mb-4"><%= subsection[:title] %></h3>
                      <p class="text-gray-300 mb-4 leading-relaxed"><%= subsection[:content] %></p>
                      
                      <% if subsection[:code_example] %>
                        <div class="bg-gray-900/80 border border-gray-700 rounded-lg overflow-hidden">
                          <div class="bg-gray-800/50 px-4 py-2 border-b border-gray-700">
                            <span class="text-sm text-gray-400"><%= subsection[:code_example][:language] %></span>
                          </div>
                          <pre class="p-4 overflow-x-auto"><code class="text-sm text-gray-300"><%= subsection[:code_example][:code] %></code></pre>
                        </div>
                      <% end %>
                      
                      <% if subsection[:tip] %>
                        <div class="bg-blue-600/10 border border-blue-600/30 rounded-lg p-4 mt-4">
                          <div class="flex items-start gap-3">
                            <div class="w-6 h-6 bg-blue-600/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                              <span class="text-blue-400 text-sm">ðŸ’¡</span>
                            </div>
                            <div>
                              <h4 class="text-blue-400 font-medium mb-1">Pro Tip</h4>
                              <p class="text-gray-300 text-sm"><%= subsection[:tip] %></p>
                            </div>
                          </div>
                        </div>
                      <% end %>
                    </div>
                  <% end %>
                </div>
              </section>
            <% end %>

            <!-- Additional Resources -->
            <section class="mt-12 pt-8 border-t border-gray-700">
              <h2 class="text-2xl font-bold text-white mb-6">Additional Resources</h2>
              
              <div class="grid md:grid-cols-2 gap-6">
                <% @topic[:resources].each do |resource| %>
                  <div class="bg-gray-800/50 border border-gray-700 rounded-xl p-6">
                    <div class="flex items-center gap-3 mb-3">
                      <div class="w-8 h-8 bg-<%= resource[:type] == 'guide' ? 'blue' : resource[:type] == 'tutorial' ? 'green' : 'purple' %>-600/20 rounded-lg flex items-center justify-center">
                        <span class="text-<%= resource[:type] == 'guide' ? 'blue' : resource[:type] == 'tutorial' ? 'green' : 'purple' %>-400 text-sm">
                          <%= resource[:type] == 'guide' ? 'ðŸ“–' : resource[:type] == 'tutorial' ? 'ðŸŽ¯' : 'ðŸ”—' %>
                        </span>
                      </div>
                      <span class="text-<%= resource[:type] == 'guide' ? 'blue' : resource[:type] == 'tutorial' ? 'green' : 'purple' %>-400 text-sm font-medium uppercase">
                        <%= resource[:type] %>
                      </span>
                    </div>
                    
                    <h3 class="text-lg font-bold text-white mb-2"><%= resource[:title] %></h3>
                    <p class="text-gray-300 text-sm mb-4"><%= resource[:description] %></p>
                    
                    <a href="<%= resource[:url] %>" class="text-<%= resource[:type] == 'guide' ? 'blue' : resource[:type] == 'tutorial' ? 'green' : 'purple' %>-400 hover:text-<%= resource[:type] == 'guide' ? 'blue' : resource[:type] == 'tutorial' ? 'green' : 'purple' %>-300 transition-colors text-sm">
                      <%= resource[:type] == 'external' ? 'View External Resource' : 'Continue Reading' %> â†’
                    </a>
                  </div>
                <% end %>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <section class="py-12 border-t border-gray-800">
    <div class="container mx-auto px-6">
      <div class="max-w-6xl mx-auto">
        <div class="flex items-center justify-between">
          <% if @prev_topic %>
            <a href="/docs/<%= @section %>/<%= @prev_topic[:slug] %>" class="flex items-center gap-3 text-gray-400 hover:text-white transition-colors">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
              </svg>
              <div>
                <div class="text-sm">Previous</div>
                <div class="font-medium"><%= @prev_topic[:title] %></div>
              </div>
            </a>
          <% else %>
            <div></div>
          <% end %>
          
          <% if @next_topic %>
            <a href="/docs/<%= @section %>/<%= @next_topic[:slug] %>" class="flex items-center gap-3 text-gray-400 hover:text-white transition-colors text-right">
              <div>
                <div class="text-sm">Next</div>
                <div class="font-medium"><%= @next_topic[:title] %></div>
              </div>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          <% else %>
            <div></div>
          <% end %>
        </div>
      </div>
    </div>
  </section>
</div>